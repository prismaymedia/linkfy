# GitHub Copilot Commit Instructions

## Commit Message Generation

When generating commit messages for this repository, **ALWAYS** follow the Conventional Commits specification as defined in `COMMIT_CONVENTION.md`.

### Required Format

```
<type>(optional scope): <description>

[optional body]

[optional footer(s)]
```

### Mandatory Rules for Copilot

1. **ALWAYS use one of these types** (case-sensitive):
   - `feat`: New features (triggers MINOR version bump)
   - `fix`: Bug fixes (triggers PATCH version bump)  
   - `chore`: Maintenance, build, config changes (no version bump)
   - `docs`: Documentation changes only
   - `style`: Code formatting, whitespace changes
   - `refactor`: Code restructuring without feature/bug changes
   - `perf`: Performance improvements
   - `test`: Test additions or corrections

2. **Use scope when applicable** - common scopes in this project:
   - `api`: Backend/server changes
   - `client`: Frontend React app changes
   - `extension`: Chrome extension changes
   - `shared`: Shared schemas/types changes
   - `auth`: Authentication related
   - `ui`: User interface components
   - `config`: Configuration files

3. **Description requirements**:
   - Use imperative mood ("add feature" not "added feature")
   - Start with lowercase letter
   - No period at the end
   - Maximum 50 characters for the first line

4. **Breaking changes**:
   - Add `!` after type: `feat!: description`
   - OR add `BREAKING CHANGE:` in footer
   - This triggers MAJOR version bump

### Examples for this Linkfy project

#### ✅ Good commit messages:
```
feat(api): add spotify playlist conversion endpoint
fix(client): resolve duplicate conversion requests
chore(deps): update dependencies to latest versions
docs: update API documentation with new endpoints
refactor(auth): simplify token validation logic
perf(client): optimize music service selector rendering
test(api): add unit tests for youtube service
feat!: require authentication for all API endpoints
```

#### ❌ Bad commit messages (DO NOT generate these):
```
Added new feature
Fix bug
Update code
Changes made
WIP
.
```

### Context-Aware Suggestions

When generating commits, analyze the changed files to determine:

1. **Appropriate type** based on the nature of changes
2. **Relevant scope** based on directory/file patterns:
   - Changes in `client/` → use `client` scope
   - Changes in `server/` → use `api` scope  
   - Changes in `chrome-addon/` → use `extension` scope
   - Changes in `shared/` → use `shared` scope
   - Changes in `*.md` files → use `docs` type
   - Changes in config files → use `chore` type

3. **Breaking change detection**:
   - API endpoint changes that break compatibility
   - Schema changes in `shared/schema.ts`
   - Major dependency updates
   - Authentication requirement changes

### Multi-file Commit Guidelines

For commits affecting multiple areas:
- Use the most significant scope
- Mention other affected areas in the body
- Keep the main description focused on the primary change

### Example of comprehensive commit:
```
feat(api): add real-time track preview functionality

Implements WebSocket connection for streaming track previews.
Also updates client components to handle real-time data.

Affects:
- server/src/services/preview.service.ts
- client/src/components/track-preview.tsx
- shared/schema.ts (new preview types)
```

## Usage

GitHub Copilot will automatically use these instructions when:
1. Using Copilot's commit message suggestions
2. Asking Copilot to generate commit messages
3. Using "Generate commit message" features in VS Code

Always review generated messages to ensure they accurately describe your changes and follow this convention.
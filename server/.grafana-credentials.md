# üîê Grafana Cloud Credentials & URLs

## Grafana Cloud Instance

**Instance ID / Username**: `2725749`

## API Endpoints

### Push Endpoint (Remote Write)
```
https://prometheus-prod-56-prod-us-east-2.grafana.net/api/prom/push
```

### Query Endpoint
```
https://prometheus-prod-56-prod-us-east-2.grafana.net/api/prom
```

## Environment Variables (server/.env)

```bash
# Prometheus Metrics
METRICS_ENABLED=true
METRICS_PATH=/metrics

# Grafana Cloud Integration
GRAFANA_ENABLED=true
GRAFANA_USERNAME=2725749
GRAFANA_API_TOKEN=your_generated_api_token_here  # ‚ö†Ô∏è REPLACE THIS
GRAFANA_PUSH_URL=https://prometheus-prod-56-prod-us-east-2.grafana.net/api/prom/push
GRAFANA_QUERY_URL=https://prometheus-prod-56-prod-us-east-2.grafana.net/api/prom
```

## üîë Generate API Token

1. Visit: https://grafana.com/orgs/yourorg/api-keys
2. Click "Generate now"
3. Configure:
   - **Name**: `linkfy-prometheus`
   - **Role**: `MetricsPublisher` or `Admin`
   - **Expiration**: As needed
4. Copy the token
5. Replace `your_generated_api_token_here` in `.env`

## üß™ Test Authentication

```bash
cd server
export GRAFANA_API_TOKEN=your_actual_token

# Test push
curl -X POST \
  -H "Content-Type: text/plain" \
  -u "2725749:$GRAFANA_API_TOKEN" \
  https://prometheus-prod-56-prod-us-east-2.grafana.net/api/prom/push \
  --data-binary @- << EOF
# TYPE test_metric counter
test_metric{service="linkfy"} 1
EOF
```

Expected response: `200 OK` (no output usually means success)

## üìä Metrics Endpoint

Local development:
```
http://localhost:3000/metrics
```

## üé® Grafana Dashboard

- Dashboard JSON: `server/grafana/dashboards/linkfy-dashboard.json`
- Import at: Your Grafana Cloud instance ‚Üí Dashboards ‚Üí Import

## üîí Security Notes

- ‚ö†Ô∏è **Never commit `.env` file** (already in `.gitignore`)
- ‚ö†Ô∏è **Keep API token secure** - treat like a password
- ‚ö†Ô∏è **Rotate tokens periodically** for security
- ‚ö†Ô∏è **Use environment-specific tokens** for dev/staging/prod

## üìù Prometheus Configuration

See `server/prometheus.yml` for remote_write configuration using these credentials.

## üîó Useful Links

- Grafana Cloud Console: https://grafana.com/
- API Keys Management: https://grafana.com/orgs/yourorg/api-keys
- Documentation: https://grafana.com/docs/grafana-cloud/
